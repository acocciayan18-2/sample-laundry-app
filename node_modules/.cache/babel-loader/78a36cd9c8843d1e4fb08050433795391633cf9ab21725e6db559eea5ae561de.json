{"ast":null,"code":"// // AppLayout.js\n// import React, { useState, useEffect } from \"react\";\n// import { Outlet, useNavigate } from \"react-router-dom\"; // ✅ import useNavigate\n// import { LoginPopup } from \"./modal/LoginPopup\";\n// import { onAuthStateChanged } from \"firebase/auth\";\n// import { auth } from \"./services/firebase\";\n\n// export default function AppLayout() {\n//   const [popup, setPopup] = useState({ message: \"\", type: \"\" });\n//   const navigate = useNavigate(); // ✅ initialize navigate\n\n//   const showPopup = (message, type) => {\n//     setPopup({ message, type });\n//     setTimeout(() => setPopup({ message: \"\", type: \"\" }), 3000);\n//   };\n\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, (user) => {\n//       if (user) {\n//         console.log(\"User session restored:\", user.email);\n//         navigate(\"/dashboard\"); // ✅ now works\n//       } else {\n//         console.log(\"No active session\");\n//         navigate(\"/login\");\n//       }\n//     });\n\n//     return () => unsubscribe();\n//   }, [navigate]); // ✅ include navigate in deps\n\n//   return (\n//     <>\n//       <Outlet context={{ showPopup }} />\n//       <LoginPopup\n//         message={popup.message}\n//         type={popup.type}\n//         onClose={() => setPopup({ message: \"\", type: \"\" })}\n//       />\n//     </>\n//   );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/pc/Documents/sample-laundry-app/sample-laundry-app-main/src/AppLayout.js"],"sourcesContent":["// // AppLayout.js\r\n// import React, { useState, useEffect } from \"react\";\r\n// import { Outlet, useNavigate } from \"react-router-dom\"; // ✅ import useNavigate\r\n// import { LoginPopup } from \"./modal/LoginPopup\";\r\n// import { onAuthStateChanged } from \"firebase/auth\";\r\n// import { auth } from \"./services/firebase\";\r\n\r\n// export default function AppLayout() {\r\n//   const [popup, setPopup] = useState({ message: \"\", type: \"\" });\r\n//   const navigate = useNavigate(); // ✅ initialize navigate\r\n\r\n//   const showPopup = (message, type) => {\r\n//     setPopup({ message, type });\r\n//     setTimeout(() => setPopup({ message: \"\", type: \"\" }), 3000);\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n//       if (user) {\r\n//         console.log(\"User session restored:\", user.email);\r\n//         navigate(\"/dashboard\"); // ✅ now works\r\n//       } else {\r\n//         console.log(\"No active session\");\r\n//         navigate(\"/login\");\r\n//       }\r\n//     });\r\n\r\n//     return () => unsubscribe();\r\n//   }, [navigate]); // ✅ include navigate in deps\r\n\r\n//   return (\r\n//     <>\r\n//       <Outlet context={{ showPopup }} />\r\n//       <LoginPopup\r\n//         message={popup.message}\r\n//         type={popup.type}\r\n//         onClose={() => setPopup({ message: \"\", type: \"\" })}\r\n//       />\r\n//     </>\r\n//   );\r\n// }\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}